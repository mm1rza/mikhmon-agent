# Script One-Line untuk Profile ISOLIR (untuk copy-paste ke field script)

:local pengguna $"user"; :local date [/system clock get date]; :local time [/system clock get time]; :log warning "User $pengguna login menggunakan profile ISOLIR pada $time tanggal $date"; :local schedulerName "$pengguna"; :local schedulerID [/system scheduler find name=$schedulerName]; :if ($schedulerID != "") do={ /system scheduler remove $schedulerID; :log info "Scheduler '$schedulerName' berhasil dihapus karena user $pengguna menggunakan profile isolir"; :local userID [/ppp secret find name=$pengguna]; :if ($userID != "") do={ /ppp secret set $userID comment="ISOLIR: Scheduler dihapus pada $date $time"; :log info "Comment user $pengguna diupdate: scheduler dihapus"; } } else={ :log info "Tidak ada scheduler '$schedulerName' yang perlu dihapus untuk user $pengguna"; :local userID [/ppp secret find name=$pengguna]; :if ($userID != "") do={ /ppp secret set $userID comment="ISOLIR: Login dengan profile isolir pada $date $time"; :log info "Comment user $pengguna diupdate: login isolir tanpa scheduler"; } }
